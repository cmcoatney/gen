<mat-vertical-stepper>
  <mat-step label="Configure Generator">
    <div class="form">
      <gen-x-model-form
        #modelForm
        [model]="model$ | async"
        [schema]="schema"
        (submitEvent)="modelChange($event)"
      ></gen-x-model-form>
    </div>
  </mat-step>

  <mat-step label="Feature CLI Commands">
    <gen-x-code-block
      listingName="Resource"
      [code]="generate_nx_nest_resource()"
    ></gen-x-code-block>
    <gen-x-code-block
      listingName="Master/Detail Components"
      [code]="generate_component()"
    ></gen-x-code-block>
  </mat-step>

  <mat-step label="Feature Code Files">
    <div class="feature-container">
      <h2>{{ schema.model | uppercase }} Feature Generator</h2>

      <mat-divider></mat-divider>
      <mat-tab-group>
        <mat-tab label="Model">
          <gen-x-code-block
            listingName="Model"
            [code]="generate_model()"
          ></gen-x-code-block>
        </mat-tab>

        <mat-tab label="Components">
          <mat-tab-group>
            <mat-tab label="Smart">
              <gen-x-code-block
                listingName="Smart Component"
                [code]="generate_service()"
              ></gen-x-code-block>
            </mat-tab>
            <mat-tab label="List">
              <gen-x-code-block
                listingName="List Component"
                [code]="generate_service()"
              ></gen-x-code-block>
            </mat-tab>
            <mat-tab label="Detail">
              <gen-x-code-block
                listingName="Detail Component"
                [code]="generate_service()"
              ></gen-x-code-block>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>

        <mat-tab label="Service">
          <mat-tab-group>
            <mat-tab label="Service">
              <gen-x-code-block
                listingName="Service"
                [code]="generate_service()"
              ></gen-x-code-block>
            </mat-tab>
            <mat-tab label="Test">
              <gen-x-code-block
                listingName="Test"
                [code]="generate_service_test()"
              ></gen-x-code-block>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>
        <mat-tab label="Facade">
          <mat-tab-group>
            <mat-tab label="Facade">
              <gen-x-code-block
                listingName="Facade"
                [code]="generate_facade()"
              ></gen-x-code-block>
            </mat-tab>
            <mat-tab label="Test">
              <gen-x-code-block
                listingName="Test"
                [code]="generate_facade_test()"
              ></gen-x-code-block>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>
        <mat-tab label="Reducer">
          <mat-tab-group>
            <mat-tab label="Reducer">
              <gen-x-code-block
                listingName="Reducer"
                [code]="generate_reducer()"
              ></gen-x-code-block>
            </mat-tab>
            <mat-tab label="Test">
              <gen-x-code-block
                listingName="Test"
                [code]="generate_reducer()"
              ></gen-x-code-block>
            </mat-tab>
          </mat-tab-group>
        </mat-tab>
        <!-- mat-tab label="Module">
                    <gen-x-code-block [code]="generate_reducer()"></gen-x-code-block>
                </mat-tab>
                <mat-tab label="Controller">
                    <gen-x-code-block [code]="generate_reducer()"></gen-x-code-block>
                </mat-tab>
                <mat-tab label="Service">
                    <gen-x-code-block [code]="generate_reducer()"></gen-x-code-block>
                </mat-tab> -->
      </mat-tab-group>
    </div>
  </mat-step>
</mat-vertical-stepper>
